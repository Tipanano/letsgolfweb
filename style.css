@import url('https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&display=swap');

body {
    font-family: 'Open Sans', sans-serif;
    line-height: 1.6;
    margin: 0; /* Remove default margin */
    padding: 0; /* Remove default padding, handle with containers */
    background-color: #e8f5e9; /* Light green background */
    color: #37474f; /* Darker grey for text */
    /* display: flex; flex-direction: column; align-items: center; */ /* Removed to allow children to manage their width */
}

h1 {
    color: #1b5e20; /* Darker Green */
    text-align: center;
    margin-top: 20px;
    margin-bottom: 30px;
    font-size: 2.5em;
}

h2 {
    color: #2e7d32; /* Medium Green */
    border-bottom: 2px solid #a5d6a7; /* Light green underline */
    padding-bottom: 5px;
    margin-top: 20px;
    margin-bottom: 15px;
    font-size: 1.6em;
}

/* Styling for headers within specific sections */
#timing-bars h2, #timing-info h2 {
    font-size: 1.3em;
    color: #388e3c; /* Slightly lighter green for these headers */
    text-align: center;
    margin-bottom: 10px;
    border-bottom: none; /* Remove default h2 underline for these */
}


/* Original styling for blocks - removing game-status and ball-position-control */
#instructions, #timing-info, #shot-result {
    background-color: #fff;
    border: 1px solid #ddd;
    padding: 15px;
    margin-bottom: 15px;
    border-radius: 5px;
}

#status-text, #swing-speed-text, #backswing-duration,
#rotation-start-offset, #arms-start-offset, #wrists-start-offset,
#ball-position-text { /* Added #ball-position-text */
    font-weight: bold;
    color: #007bff; /* Blue */
}

#result-text {
    font-size: 1.1em;
    font-weight: bold;
    color: #28a745; /* Green */
}

#instructions p {
    margin: 5px 0;
}

/* --- Timing Bars --- */
#timing-bars {
    display: none; /* Hidden - replaced by swing arc visualizer */
    background-color: #fff;
    border: 1px solid #ddd;
    padding: 15px;
    /* margin-bottom: 15px; */ /* Removed default margin */
    border-radius: 5px;
    /* Assuming parent (#game-interface) will constrain width */
    box-sizing: border-box; /* Include padding in width calculation */
    margin-bottom: 10px; /* Add some space below the bars */
}

.timing-bar-container {
    display: flex;
    align-items: center;
    margin-bottom: 8px;
}

.bar-label {
    width: 90px; /* Adjust as needed */
    font-size: 0.9em;
    text-align: right;
    margin-right: 10px;
    color: #555;
}

.timing-bar {
    flex-grow: 1;
    height: 20px;
    background-color: #e9ecef;
    border: 1px solid #ced4da;
    border-radius: 3px;
    position: relative; /* Needed for absolute positioning of children */
    overflow: hidden; /* Hide overflow */
}

.progress {
    height: 100%;
    width: 0%; /* Starts at 0 */
    background-color: #28a745; /* Green progress */
    transition: width 0.05s linear; /* Smooth transition for progress */
    position: absolute;
    left: 0;
    top: 0;
}

.ideal-window {
    position: absolute;
    top: 0;
    height: 100%;
    background-color: rgba(0, 123, 255, 0.3); /* Semi-transparent blue */
    border-left: 1px dashed #007bff;
    border-right: 1px dashed #007bff;
    z-index: 1; /* Above progress */
    /* Left and width will be set by JS */
}

.marker {
    position: absolute;
    top: -2px; /* Slightly above bar */
    bottom: -2px; /* Slightly below bar */
    width: 3px;
    background-color: #dc3545; /* Red marker */
    z-index: 2; /* Above ideal window */
    display: none; /* Hidden initially */
    /* Left will be set by JS */
}

/* Specific style for the ideal backswing marker */
#ideal-backswing-marker {
    background-color: transparent; /* No background fill */
    border-left: 2px solid #ffc107; /* Yellow line for ideal point */
    border-right: none;
    width: 2px; /* Just a line */
    /* Left position will be set by JS */
}

/* --- Main Layout Container --- */
#main-layout {
    display: flex;
    gap: 15px; /* Space between visual area and ball position */
    margin-bottom: 15px; /* Space below the main layout */
}

/* --- Visuals Container --- */
#visuals-container {
    /* margin-top: 20px; */ /* Removed margin, handled by parent */
    flex-grow: 1; /* Allow it to take available horizontal space */
    background-color: #ddd; /* Placeholder background */
    border: 1px solid #bbb;
    border-radius: 5px;
    position: relative; /* Make this the positioning context */
    /* Ensure it contains the canvas height */
    min-height: 400px; /* Reduced for smaller displays like Chromebooks */
}

#golf-canvas {
    display: block; /* Remove extra space below canvas */
    width: 100%;   /* Make canvas responsive */
    height: 400px; /* Reduced for smaller displays like Chromebooks */
    background-color: #aaddcc; /* Placeholder canvas background */
    transform: scaleX(-1) !important; /* REMOVING THIS AGAIN FOR DIAGNOSIS */
}

/* --- Ball Position Control --- */
.stance-visual {
    display: flex;
    flex-direction: column; /* Stack items vertically */
    align-items: center;    /* Center items horizontally */
    justify-content: space-between; /* Push feet to top/bottom */
    background-color: #e9ecef;
    padding: 10px;
    border-radius: 4px;
    margin-top: 10px;
    height: 150px; /* Make it taller */
    position: relative; /* For positioning the ball marker */
    width: 50px;  /* Make it narrower */
    margin-left: auto; /* Center the container */
    margin-right: auto;
}

.foot {
    width: 30px;
    height: 30px;
    background-color: #6c757d; /* Gray */
    border: 1px solid #495057;
    border-radius: 3px;
    /* Removed auto margins */
}

/* #left-foot is now the top foot (front foot) */
/* #right-foot is now the bottom foot (back foot) */

.ball-marker {
    width: 15px;
    height: 15px;
    background-color: #fff; /* White ball */
    border: 1px solid #333;
    border-radius: 50%; /* Make it round */
    position: absolute; /* Position relative to stance-visual */
    left: 50%; /* Center horizontally */
    transform: translateX(-50%); /* Adjust horizontal centering */
    top: 50%; /* Start centered vertically */
    margin-top: -7.5px; /* Adjust vertical centering (half height) */
    transition: top 0.1s ease-in-out; /* Smooth vertical movement */
    z-index: 1;
    pointer-events: none; /* Allow clicks to pass through */
}

/* --- Ball Position Control (Simplified) --- */
#ball-position-control {
    background-color: transparent; /* No background for the container itself */
    padding: 0; /* No padding for the container */
    flex-basis: auto; /* Allow to shrink to content */
    flex-shrink: 1;
    display: flex; /* Use flex to align info button and stance visual */
    flex-direction: column;
    align-items: center; /* Center items like the stance visual */
    position: relative; /* For info popup positioning */
}

.info-button {
    background-color: #ddd; /* Light grey background */
    color: #333;
    border: 1px solid #bbb;
    border-radius: 50%; /* Circular */
    width: 24px;
    height: 24px;
    font-size: 0.9em;
    font-weight: bold;
    line-height: 22px; /* Adjust for vertical centering */
    text-align: center;
    cursor: pointer;
    padding: 0;
    margin-bottom: 5px; /* Space between button and stance visual */
    align-self: center; /* Center the button itself if container is wider */
}

.info-button:hover {
    background-color: #ccc;
}

.info-popup {
    display: none; /* Hidden by default */
    position: absolute;
    top: 30px; /* Position below the info button */
    left: 50%;
    transform: translateX(-50%);
    background-color: #fff;
    border: 1px solid #ccc;
    border-radius: 4px;
    padding: 10px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.15);
    z-index: 100; /* Ensure it's above other elements in its context */
    width: 180px; /* Adjust as needed */
    font-size: 0.9em;
    color: #333;
    text-align: center;
}




/* --- Visual Info Overlay (NEW) --- */
#visual-info-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none; /* Allow clicks to pass through to canvas */
    z-index: 15; /* Position above canvas AND swing arc overlay */
    padding: 10px;
    box-sizing: border-box;
    color: white; /* Example text color */
    text-shadow: 1px 1px 2px black; /* Default text shadow for overlay */
    display: flex;
    flex-direction: column;
    justify-content: space-between; /* Push elements to top/bottom */
    align-items: stretch; /* Make children stretch full width */
    /* font-size is now part of .overlay-text-item */
}

#top-center-status {
    position: absolute;
    top: 10px; /* Adjust as needed */
    left: 50%;
    transform: translateX(-50%);
    text-align: center;
    z-index: 6; /* Ensure it's above canvas but potentially below other popups */
    /* .overlay-text-item class will be applied to the span inside this div via HTML */
}

/* Move top center status down in fullscreen to avoid top bar */
body.fullscreen-mode #top-center-status {
    top: 70px;
}

/* --- Swing Arc Visualizer Overlay --- */
#swing-arc-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 240px; /* Even wider for bigger arc */
    height: 100%;
    pointer-events: none; /* Allow clicks to pass through to canvas */
    z-index: 10; /* Position above other overlays */
    background: rgba(0, 0, 0, 0.25); /* Slightly darker for better contrast */
    backdrop-filter: blur(4px); /* More blur for depth */
    padding: 20px;
    box-sizing: border-box;
}

/* Move swing arc overlay down in fullscreen to avoid top bar */
body.fullscreen-mode #swing-arc-overlay {
    top: 60px;
    height: calc(100% - 60px);
}



/* --- Multiplayer Scoreboard (Fixed position above game interface) --- */
#multiplayer-scoreboard {
    background: rgba(255, 255, 255, 0.95);
    border: 2px solid #4CAF50;
    padding: 15px;
    border-radius: 8px;
    min-width: 220px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    margin: 0 auto 15px auto; /* Center horizontally and add space below */
    max-width: 600px; /* Prevent it from getting too wide */
}



/* NEW Common class for all overlay text items */
.overlay-text-item {
    font-size: 1.1em;
    font-weight: normal; /* Ensure consistent normal weight */
    color: white; /* Ensure consistent color */
    text-shadow: 1px 1px 2px black; /* Ensure consistent shadow */
    margin-bottom: 2px; /* Consistent spacing */
}

/* Positioning for overlay elements */
.overlay-top, .overlay-bottom {
    display: flex;
    justify-content: space-between; /* Space out main left/right blocks */
    width: 100%;
}

/* Move overlay-top down in fullscreen to avoid top bar */
body.fullscreen-mode .overlay-top {
    margin-top: 60px;
}

/* Align text within the corner blocks */
.overlay-top-left, .overlay-bottom-left {
    text-align: left;
}

.overlay-top-right {
    text-align: right;
}

/* Remove individual styling if .overlay-text-item is applied directly to child divs */
/* .overlay-top-left div, .overlay-top-right div, .overlay-bottom-left div { */
    /* margin-bottom: 2px; /* Now part of .overlay-text-item */
/* } */

/* --- Overlay Mode Visibility --- */
/* Hide all mode-specific overlay sections by default */
#visual-info-overlay .mode-play-hole,
#visual-info-overlay .mode-closest-to-flag,
#visual-info-overlay .mode-range {
    display: none;
}

/* Show the correct sections based on body class */
body.mode-play-hole #visual-info-overlay .mode-play-hole,
body.mode-closest-to-flag #visual-info-overlay .mode-closest-to-flag,
body.mode-range #visual-info-overlay .mode-range {
    display: block; /* Or flex if they are containers */
}
/* Adjust display for flex containers if needed */
body.mode-play-hole #visual-info-overlay .overlay-top-left.mode-play-hole,
body.mode-closest-to-flag #visual-info-overlay .overlay-top-left.mode-closest-to-flag,
body.mode-range #visual-info-overlay .overlay-top-left.mode-range,
body.mode-play-hole #visual-info-overlay .overlay-bottom-left.mode-play-hole {
     display: block; /* These are divs containing text lines */
}


/* Optional: Add specific alignment if needed */
/* #overlay-hole-info { text-align: left; } */
/* #overlay-distance { text-align: right; } */
/* #overlay-shot-info { text-align: left; } */
/* #overlay-score-info { text-align: right; } */

/* Adjust text color if needed for contrast */
/* #game-status is removed */
/* #ball-position-control h2, #ball-position-control p are removed */
/* Text color for new controls is handled in #bottom-controls */

/* Adjust ball position visual if needed */
#ball-position-control .stance-visual {
    /* Maybe reduce height/width if it feels too large as an overlay */
    /* height: 100px; */
    /* width: 40px; */
    background-color: rgba(233, 236, 239, 0.85); /* Semi-transparent */
}

/* --- Game Mode Specific Styles --- */

/* Hide instructions when not in range mode */
body:not(.mode-range) #instructions {
    display: none;
}

/* --- Game Mode Specific Styles --- */

/* Hide instructions when not in range mode */
body:not(.mode-range) #instructions {
    display: none;
}

/* Hide all mode-specific info panels by default */
.mode-info-panel {
    display: none;
    padding: 15px;
    margin-bottom: 15px;
    border-radius: 5px;
}

/* Closest to Flag UI visibility */
#closest-to-flag-info {
    /* display: none; /* Hidden by default via .mode-info-panel */
    background-color: #e8f4f8; /* Light blue background */
    border: 1px solid #b8dce8;
    /* padding: 15px; */ /* Handled by .mode-info-panel */
    /* margin-bottom: 15px; */ /* Handled by .mode-info-panel */
    /* border-radius: 5px; */ /* Handled by .mode-info-panel */
}
body.mode-closest-to-flag #closest-to-flag-info {
    display: block; /* Show only in this mode */
}

/* --- Added for Backswing Bar Markers --- */

/* Generic style for line markers on timing bars */
.timing-marker {
    position: absolute;
    top: -1px; /* Align with top edge or slightly above */
    bottom: -1px; /* Align with bottom edge or slightly below */
    width: 2px; /* Thickness of the marker line */
    background-color: #007bff; /* Blue, distinct from ideal window and progress */
    z-index: 3; /* Ensure it's above progress and ideal windows */
    display: none; /* Hidden by default, JS will show it */
    /* 'left' position will be set by JS */
}

/* Specific styling for the hip initiation marker, if needed, */
/* otherwise it will use .timing-marker styles. */
/* #hip-initiation-marker { */
    /* background-color: #another_color; */ /* Example: Different color if desired */
/* } */

/* Style for the post-shot ideal J press feedback window on the backswing bar */
.ideal-timing-feedback-backswing {
    position: absolute;
    top: 0;
    height: 100%;
    background-color: rgba(70, 130, 180, 0.35); /* Steel Blue, semi-transparent */
    border-left: 1px dashed steelblue;
    border-right: 1px dashed steelblue;
    z-index: 1; /* Below other markers, above progress fill if progress has lower z-index */
    display: none; /* Initially hidden */
    box-sizing: border-box;
    /* 'left' and 'width' will be set by JS */
}

/* --- Main Menu & Game View --- */
#main-menu {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 90vh; /* Adjusted height */
    text-align: center;
    padding: 20px;
    width: 100%;
    box-sizing: border-box;
    background: linear-gradient(to bottom, #dcedc8, #c8e6c9); /* Light green gradient */
}

#main-menu h2 {
    font-size: 2em;
    color: #1b5e20; /* Darker green for main menu title */
    margin-bottom: 40px;
    border-bottom: none;
}

#main-menu > div {
    margin-bottom: 25px;
    padding: 25px;
    border: none; /* Remove border */
    border-radius: 12px; /* Softer radius */
    background-color: rgba(255, 255, 255, 0.8); /* Semi-transparent white */
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); /* Softer shadow */
    width: 90%;
    max-width: 450px;
}

#main-menu strong {
    display: block;
    margin-bottom: 10px;
    color: #2e7d32; /* Medium Green */
    font-size: 1.1em;
}

#main-menu button {
    padding: 12px 20px;
    font-size: 1em;
    font-weight: 600;
    margin: 8px;
    cursor: pointer;
    border: none;
    border-radius: 6px;
    background-color: #4caf50; /* Green button */
    color: white;
    transition: background-color 0.3s ease, transform 0.1s ease;
}

#main-menu button:hover {
    background-color: #388e3c; /* Darker green on hover */
    transform: translateY(-1px);
}

#main-menu button:active {
    transform: translateY(0px);
}

#back-to-menu-button {
    padding: 12px 20px; /* Increased padding */
    font-size: 1em; /* Increased font size */
    font-weight: 600;
    cursor: pointer;
    border: none;
    border-radius: 6px;
    background-color: #66bb6a; /* Lighter green for in-game menu button */
    color: white;
    transition: background-color 0.3s ease, transform 0.1s ease;
    /* position, top, right, z-index are already set inline in HTML, keep them or manage here */
}

#back-to-menu-button:hover {
    background-color: #57a05a; /* Darker shade on hover */
    transform: translateY(-1px);
}

#back-to-menu-button:active {
    transform: translateY(0px);
}

#switch-hole-button {
    padding: 12px 20px; /* Match back-to-menu-button */
    font-size: 1em;
    font-weight: 600;
    cursor: pointer;
    border: none;
    border-radius: 6px;
    background-color: #42a5f5; /* Blue color to differentiate from menu button */
    color: white;
    transition: background-color 0.3s ease, transform 0.1s ease;
}

#switch-hole-button:hover {
    background-color: #1e88e5; /* Darker blue on hover */
    transform: translateY(-1px);
}

#switch-hole-button:active {
    transform: translateY(0px);
}

#game-view {
    width: 100%; /* Ensure game view takes full width */
    box-sizing: border-box; /* Include padding and border in the element's total width and height */
    padding: 15px; /* Add some padding around the game view content */
    /* display: none; is handled by JS */
}

/* When game-view is active, make visuals larger */
#game-view #visuals-container {
    min-height: 500px; /* Reduced for smaller displays - was 900px */
    /* flex-grow: 1; already set, ensure it expands */
}

#game-view #golf-canvas {
    height: 500px; /* Reduced for smaller displays - was 900px */
    /* width: 100%; already set */
}

/* Fullscreen mode styles */
body.fullscreen-mode {
    overflow: hidden;
}

body.fullscreen-mode #game-view {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    z-index: 9999;
    background: #e8f5e9;
    padding: 0;
    margin: 0;
}

body.fullscreen-mode #main-layout {
    height: 100vh;
    margin: 0;
}

body.fullscreen-mode #visuals-container {
    min-height: 300px; /* Lower minimum for small displays */
    height: 100vh;
    width: 100vw;
    border-radius: 0;
    border: none;
    margin: 0;
    padding: 0;
}

body.fullscreen-mode #golf-canvas {
    width: 100vw !important;
    height: 100vh !important;
}

body.fullscreen-mode #timing-bars,
body.fullscreen-mode #closest-to-flag-info,
body.fullscreen-mode #instructions {
    display: none !important;
}

/* Fullscreen bottom-right control panel */
#fullscreen-controls {
    display: flex; /* Always show the controls */
    position: fixed;
    top: 220px; /* Position below the overlay-top */
    right: 10px;
    z-index: 10000;
    gap: 10px;
    flex-direction: column;
    align-items: flex-end;
}

/* Control button showing current selection */
.fs-control-btn {
    background: rgba(0, 0, 0, 0.4);
    backdrop-filter: blur(8px);
    border: 2px solid rgba(255, 255, 255, 0.2);
    border-radius: 6px;
    padding: 8px 12px;
    color: white;
    font-size: 0.85em;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
    min-width: 140px;
    text-align: left;
}

.fs-control-btn:hover {
    background: rgba(0, 0, 0, 0.6);
    border-color: rgba(255, 255, 255, 0.4);
    transform: translateX(-3px);
}

.fs-control-btn .label {
    display: block;
    font-size: 0.7em;
    opacity: 0.7;
    margin-bottom: 2px;
}

.fs-control-btn .value {
    display: block;
    font-size: 1em;
}

/* Popup panels for each control */
.fs-control-panel {
    display: none;
    position: fixed;
    bottom: 150px;
    right: 220px;
    background: rgba(0, 0, 0, 0.85);
    backdrop-filter: blur(12px);
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-radius: 10px;
    padding: 20px;
    color: white;
    z-index: 10001;
    max-width: 300px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
}

.fs-control-panel.active {
    display: block;
}

.fs-control-panel h3 {
    margin: 0 0 15px 0;
    font-size: 1.1em;
    color: white;
    border-bottom: 1px solid rgba(255, 255, 255, 0.2);
    padding-bottom: 8px;
}

/* Club selection in panel */
.fs-club-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 8px;
    margin-top: 10px;
}

.fs-club-btn {
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 5px;
    padding: 8px;
    color: white;
    font-size: 0.85em;
    cursor: pointer;
    transition: all 0.2s;
}

.fs-club-btn:hover {
    background: rgba(255, 255, 255, 0.2);
}

.fs-club-btn.selected {
    background: rgba(76, 175, 80, 0.8);
    border-color: #4CAF50;
}

/* Shot type selection */
.fs-shot-type-options {
    display: flex;
    flex-direction: column;
    gap: 8px;
    margin-top: 10px;
}

.fs-shot-type-btn {
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 5px;
    padding: 10px 15px;
    color: white;
    font-size: 0.9em;
    cursor: pointer;
    transition: all 0.2s;
    text-align: left;
}

.fs-shot-type-btn:hover {
    background: rgba(255, 255, 255, 0.2);
}

.fs-shot-type-btn.selected {
    background: rgba(76, 175, 80, 0.8);
    border-color: #4CAF50;
}

/* Power/swing speed slider */
.fs-power-slider {
    margin-top: 15px;
}

.fs-power-slider input[type="range"] {
    width: 100%;
    margin: 10px 0;
}

.fs-power-value {
    text-align: center;
    font-size: 1.3em;
    font-weight: bold;
    color: #4CAF50;
}

/* Stance visualizer in panel */
.fs-stance-visual {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: space-between;
    background-color: rgba(233, 236, 239, 0.2);
    padding: 15px;
    border-radius: 8px;
    margin-top: 10px;
    height: 150px;
    position: relative;
    cursor: pointer;
    user-select: none;
}

.fs-stance-visual:hover {
    background-color: rgba(233, 236, 239, 0.3);
}

.fs-stance-visual .foot {
    width: 40px;
    height: 30px;
    background-color: #6c757d;
    border: 2px solid #495057;
    border-radius: 4px;
    pointer-events: none;
}

.fs-stance-visual .ball-marker {
    width: 15px;
    height: 15px;
    background-color: #fff;
    border: 2px solid #333;
    border-radius: 50%;
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    transition: top 0.2s ease;
    pointer-events: none;
}

/* Fullscreen top bar */
#fullscreen-top-bar {
    display: none; /* Hidden by default, only show in fullscreen */
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    height: 60px;
    background: rgba(0, 0, 0, 0.3);
    backdrop-filter: blur(4px);
    z-index: 10000;
    padding: 0 20px;
    align-items: center;
    gap: 15px;
}

body.fullscreen-mode #fullscreen-top-bar {
    display: flex;
}

/* Hide the old buttons in fullscreen */
body.fullscreen-mode #back-to-menu-button,
body.fullscreen-mode #switch-hole-button,
body.fullscreen-mode #reset-game-data-button,
body.fullscreen-mode #fullscreen-toggle-btn {
    display: none !important;
}

/* Fullscreen bar button styles */
.fullscreen-bar-btn {
    padding: 10px 18px;
    font-size: 0.95em;
    font-weight: 600;
    cursor: pointer;
    border: none;
    border-radius: 6px;
    color: white;
    transition: background-color 0.2s ease, transform 0.1s ease;
    background: rgba(255, 255, 255, 0.15);
    backdrop-filter: blur(8px);
}

.fullscreen-bar-btn:hover {
    background: rgba(255, 255, 255, 0.25);
    transform: translateY(-1px);
}

.fullscreen-bar-btn:active {
    transform: translateY(0px);
}

.fullscreen-bar-btn.exit {
    background: rgba(76, 175, 80, 0.8);
}

.fullscreen-bar-btn.exit:hover {
    background: rgba(76, 175, 80, 1);
}

.fullscreen-bar-btn.danger {
    background: rgba(244, 67, 54, 0.7);
}

.fullscreen-bar-btn.danger:hover {
    background: rgba(244, 67, 54, 0.9);
}

#fullscreen-toggle-btn {
    position: absolute;
    top: 10px;
    right: 150px;
    z-index: 1001;
    padding: 12px 20px;
    font-size: 1em;
    font-weight: 600;
    cursor: pointer;
    border: none;
    border-radius: 6px;
    background-color: #9c27b0;
    color: white;
    transition: background-color 0.3s ease, transform 0.1s ease;
}

#fullscreen-toggle-btn:hover {
    background-color: #7b1fa2;
    transform: translateY(-1px);
}

#fullscreen-toggle-btn:active {
    transform: translateY(0px);
}

/* --- Shot Result Pop-up --- */
#shot-result {
    position: fixed; /* Fixed position to overlay on content */
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%); /* Center the pop-up */
    width: 80%;
    max-width: 450px; /* Max width for the pop-up */
    background-color: #fff;
    border: 2px solid #005f40; /* Dark green border */
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    z-index: 1002; /* Ensure it's above other game elements */
    display: none; /* Hidden by default, shown by JS */
}

#shot-result h2 {
    margin-top: 0;
    text-align: center;
}

#shot-result p {
    margin: 8px 0;
}

#shot-result #next-shot-button {
    display: block; /* Make button take full width */
    width: 50%;
    padding: 10px;
    margin: 20px auto 0; /* Center button */
    background-color: #007bff;
    color: white;
    border: none;
    border-radius: 5px;
    font-size: 1em;
}

/* --- Shot Summary Widget (NEW) --- */
#shot-summary-widget {
    position: absolute;
    bottom: 10px;
    right: 10px;
    /* color, text-shadow, font-size are handled by .overlay-text-item if applied to children */
    text-align: right;
    z-index: 16;
    pointer-events: auto;
    background-color: rgba(0, 0, 0, 0.3);
    backdrop-filter: blur(4px);
    padding: 8px 12px;
    border-radius: 6px;
}

/* #shot-summary-widget div will now use .overlay-text-item */
/* #shot-summary-widget div { */
    /* margin-bottom: 2px; */ /* Handled by .overlay-text-item */
    /* font-weight: normal; */ /* Handled by .overlay-text-item */
/* } */

#shot-summary-widget button#show-details-button {
    background-color: transparent;
    color: white;
    text-shadow: 1px 1px 2px black;
    border: none;
    border-radius: 0;
    width: auto;
    height: auto;
    font-size: 1.2em; /* Button can be slightly larger/bolder */
    font-weight: bold;
    line-height: normal;
    text-align: center;
    padding: 0 5px; /* Minimal padding if needed */
    cursor: pointer;
    margin-top: 0px; /* Adjust as needed, or align with flex */
    display: inline; /* Make it flow with text if desired, or keep as block/inline-block */
}

#shot-summary-widget button#show-details-button:hover {
    color: #aaa; /* Simple hover effect, or remove if not desired */
    background-color: transparent;
}


/* Pop-up for Hole Selection */
/* .popup class is already styled in index.html for basic centering and appearance */
/* We can add specific styles for the hole select items if needed */
#hole-list-container {
    display: flex;
    flex-direction: column;
    gap: 8px; /* Space between hole buttons */
}

.hole-select-item {
    padding: 8px 12px;
    font-size: 0.95em;
    background-color: #f0f0f0;
    border: 1px solid #ccc;
    border-radius: 4px;
    cursor: pointer;
    text-align: left;
}

.hole-select-item:hover {
    background-color: #e0e0e0;
}

#close-hole-select-popup {
    margin-top: 15px;
    padding: 8px 15px;
    background-color: #6c757d;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}

#close-hole-select-popup:hover {
    background-color: #5a6268;
}

/* Game Summary Modal */
.game-summary-modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 10000;
}

.game-summary-modal {
    background: white;
    border-radius: 12px;
    padding: 0;
    max-width: 500px;
    width: 90%;
    max-height: 80vh;
    overflow-y: auto;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
}

.game-summary-header {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 20px;
    border-radius: 12px 12px 0 0;
    text-align: center;
}

.game-summary-header.winner {
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
}

.game-summary-header h2 {
    margin: 0 0 10px 0;
    font-size: 1.8em;
}

.winner-text {
    margin: 0;
    font-size: 1.1em;
    opacity: 0.95;
}

.game-summary-results {
    padding: 20px;
}

.game-summary-results h3 {
    margin: 0 0 15px 0;
    color: #333;
    font-size: 1.2em;
}

.players-list {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.player-result {
    display: grid;
    grid-template-columns: 40px 1fr auto;
    gap: 10px;
    padding: 12px;
    background: #f5f5f5;
    border-radius: 6px;
    align-items: center;
}

.player-result.winner {
    background: linear-gradient(135deg, #fff9e6 0%, #ffe6b3 100%);
    border: 2px solid #ffd700;
    font-weight: bold;
}

.player-result.local-player {
    border: 2px solid #4CAF50;
}

.player-result .rank {
    font-size: 1.2em;
    font-weight: bold;
    color: #666;
    text-align: center;
}

.player-result.winner .rank {
    color: #d4af37;
}

.player-result .player-name {
    font-size: 1em;
}

.player-result .distance {
    font-size: 1em;
    color: #666;
    font-weight: 500;
}

.game-summary-payout {
    padding: 15px 20px;
    background: #e8f5e9;
    border-top: 1px solid #c8e6c9;
    border-bottom: 1px solid #c8e6c9;
}

.game-summary-payout h3 {
    margin: 0 0 10px 0;
    color: #2e7d32;
    font-size: 1.1em;
}

.game-summary-payout p {
    margin: 5px 0;
    color: #1b5e20;
}

.payout-address {
    font-size: 0.85em;
    color: #555;
    word-break: break-all;
}

.game-summary-actions {
    padding: 20px;
    display: flex;
    gap: 10px;
    justify-content: center;
}

.btn-play-again,
.btn-return-menu {
    padding: 12px 24px;
    font-size: 1em;
    font-weight: 600;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s;
}

.btn-play-again {
    background: #4CAF50;
    color: white;
}

.btn-play-again:hover {
    background: #45a049;
    transform: translateY(-1px);
}

.btn-return-menu {
    background: #757575;
    color: white;
}

.btn-return-menu:hover {
    background: #616161;
    transform: translateY(-1px);
}
